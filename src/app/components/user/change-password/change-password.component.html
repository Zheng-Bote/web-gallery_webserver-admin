<div
  class="password-container"
  style="display: flex; justify-content: center; padding-top: 50px"
>
  <mat-card style="width: 100%; max-width: 400px">
    <mat-card-header>
      <mat-card-title>Passwort ändern</mat-card-title>
      <mat-card-subtitle>
        Bitte vergeben Sie ein neues Passwort.
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content style="margin-top: 20px">
      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Aktuelles Passwort</mat-label>
        <input
          matInput
          [type]="hideOld() ? 'password' : 'text'"
          [(ngModel)]="passwords.old"
          name="oldPass"
          required
        />
        <button mat-icon-button matSuffix (click)="hideOld.set(!hideOld())">
          <mat-icon>{{ hideOld() ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>

      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Neues Passwort (min. 8 Zeichen)</mat-label>
        <input
          matInput
          [type]="hideNew() ? 'password' : 'text'"
          [(ngModel)]="passwords.new"
          name="newPass"
          required
          minlength="8"
        />
        <button mat-icon-button matSuffix (click)="hideNew.set(!hideNew())">
          <mat-icon>{{ hideNew() ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
        <mat-hint
          *ngIf="passwords.new.length > 0 && passwords.new.length < 8"
          style="color: orange"
        >
          Zu kurz (min. 8 Zeichen)
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Passwort wiederholen</mat-label>
        <input
          matInput
          [type]="hideConfirm() ? 'password' : 'text'"
          [(ngModel)]="passwords.confirm"
          name="confirmPass"
          required
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hideConfirm.set(!hideConfirm())"
        >
          <mat-icon>{{
            hideConfirm() ? "visibility_off" : "visibility"
          }}</mat-icon>
        </button>
        <mat-error
          *ngIf="
            passwords.confirm.length > 0 && passwords.new !== passwords.confirm
          "
        >
          Passwörter stimmen nicht überein
        </mat-error>
      </mat-form-field>
    </mat-card-content>

    <mat-card-actions align="end">
      <button
        mat-raised-button
        color="primary"
        (click)="submit()"
        [disabled]="!isValid || isSubmitting()"
      >
        <span *ngIf="!isSubmitting()">Speichern</span>
        <span *ngIf="isSubmitting()">Speichert...</span>
      </button>
    </mat-card-actions>
  </mat-card>
</div>
